{"ast":null,"code":"/**\n * Extracts the attributes\n * @class\n * @memberof PIXI.glCore.shader\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param uniforms {Array} @mat ?\n * @return attributes {Object}\n */\nvar generateUniformAccessObject = function (gl, uniformData) {\n  // this is the object we will be sending back.\n  // an object hierachy will be created for structs\n  var uniforms = {\n    data: {}\n  };\n  uniforms.gl = gl;\n  var uniformKeys = Object.keys(uniformData);\n\n  for (var i = 0; i < uniformKeys.length; i++) {\n    var fullName = uniformKeys[i];\n    var nameTokens = fullName.split('.');\n    var name = nameTokens[nameTokens.length - 1];\n    var uniformGroup = getUniformGroup(nameTokens, uniforms);\n    var uniform = uniformData[fullName];\n    uniformGroup.data[name] = uniform;\n    uniformGroup.gl = gl;\n    Object.defineProperty(uniformGroup, name, {\n      get: generateGetter(name),\n      set: generateSetter(name, uniform)\n    });\n  }\n\n  return uniforms;\n};\n\nvar generateGetter = function (name) {\n  return function () {\n    return this.data[name].value;\n  };\n};\n\nvar GLSL_SINGLE_SETTERS = {\n  float: function setSingleFloat(gl, location, value) {\n    gl.uniform1f(location, value);\n  },\n  vec2: function setSingleVec2(gl, location, value) {\n    gl.uniform2f(location, value[0], value[1]);\n  },\n  vec3: function setSingleVec3(gl, location, value) {\n    gl.uniform3f(location, value[0], value[1], value[2]);\n  },\n  vec4: function setSingleVec4(gl, location, value) {\n    gl.uniform4f(location, value[0], value[1], value[2], value[3]);\n  },\n  int: function setSingleInt(gl, location, value) {\n    gl.uniform1i(location, value);\n  },\n  ivec2: function setSingleIvec2(gl, location, value) {\n    gl.uniform2i(location, value[0], value[1]);\n  },\n  ivec3: function setSingleIvec3(gl, location, value) {\n    gl.uniform3i(location, value[0], value[1], value[2]);\n  },\n  ivec4: function setSingleIvec4(gl, location, value) {\n    gl.uniform4i(location, value[0], value[1], value[2], value[3]);\n  },\n  bool: function setSingleBool(gl, location, value) {\n    gl.uniform1i(location, value);\n  },\n  bvec2: function setSingleBvec2(gl, location, value) {\n    gl.uniform2i(location, value[0], value[1]);\n  },\n  bvec3: function setSingleBvec3(gl, location, value) {\n    gl.uniform3i(location, value[0], value[1], value[2]);\n  },\n  bvec4: function setSingleBvec4(gl, location, value) {\n    gl.uniform4i(location, value[0], value[1], value[2], value[3]);\n  },\n  mat2: function setSingleMat2(gl, location, value) {\n    gl.uniformMatrix2fv(location, false, value);\n  },\n  mat3: function setSingleMat3(gl, location, value) {\n    gl.uniformMatrix3fv(location, false, value);\n  },\n  mat4: function setSingleMat4(gl, location, value) {\n    gl.uniformMatrix4fv(location, false, value);\n  },\n  sampler2D: function setSingleSampler2D(gl, location, value) {\n    gl.uniform1i(location, value);\n  }\n};\nvar GLSL_ARRAY_SETTERS = {\n  float: function setFloatArray(gl, location, value) {\n    gl.uniform1fv(location, value);\n  },\n  vec2: function setVec2Array(gl, location, value) {\n    gl.uniform2fv(location, value);\n  },\n  vec3: function setVec3Array(gl, location, value) {\n    gl.uniform3fv(location, value);\n  },\n  vec4: function setVec4Array(gl, location, value) {\n    gl.uniform4fv(location, value);\n  },\n  int: function setIntArray(gl, location, value) {\n    gl.uniform1iv(location, value);\n  },\n  ivec2: function setIvec2Array(gl, location, value) {\n    gl.uniform2iv(location, value);\n  },\n  ivec3: function setIvec3Array(gl, location, value) {\n    gl.uniform3iv(location, value);\n  },\n  ivec4: function setIvec4Array(gl, location, value) {\n    gl.uniform4iv(location, value);\n  },\n  bool: function setBoolArray(gl, location, value) {\n    gl.uniform1iv(location, value);\n  },\n  bvec2: function setBvec2Array(gl, location, value) {\n    gl.uniform2iv(location, value);\n  },\n  bvec3: function setBvec3Array(gl, location, value) {\n    gl.uniform3iv(location, value);\n  },\n  bvec4: function setBvec4Array(gl, location, value) {\n    gl.uniform4iv(location, value);\n  },\n  sampler2D: function setSampler2DArray(gl, location, value) {\n    gl.uniform1iv(location, value);\n  }\n};\n\nfunction generateSetter(name, uniform) {\n  return function (value) {\n    this.data[name].value = value;\n    var location = this.data[name].location;\n\n    if (uniform.size === 1) {\n      GLSL_SINGLE_SETTERS[uniform.type](this.gl, location, value);\n    } else {\n      // glslSetArray(gl, location, type, value) {\n      GLSL_ARRAY_SETTERS[uniform.type](this.gl, location, value);\n    }\n  };\n}\n\nfunction getUniformGroup(nameTokens, uniform) {\n  var cur = uniform;\n\n  for (var i = 0; i < nameTokens.length - 1; i++) {\n    var o = cur[nameTokens[i]] || {\n      data: {}\n    };\n    cur[nameTokens[i]] = o;\n    cur = o;\n  }\n\n  return cur;\n}\n\nmodule.exports = generateUniformAccessObject;","map":{"version":3,"sources":["/Users/mohamedelhedihaddar/weather-app/node_modules/pixi-gl-core/src/shader/generateUniformAccessObject.js"],"names":["generateUniformAccessObject","gl","uniformData","uniforms","data","uniformKeys","Object","keys","i","length","fullName","nameTokens","split","name","uniformGroup","getUniformGroup","uniform","defineProperty","get","generateGetter","set","generateSetter","value","GLSL_SINGLE_SETTERS","float","setSingleFloat","location","uniform1f","vec2","setSingleVec2","uniform2f","vec3","setSingleVec3","uniform3f","vec4","setSingleVec4","uniform4f","int","setSingleInt","uniform1i","ivec2","setSingleIvec2","uniform2i","ivec3","setSingleIvec3","uniform3i","ivec4","setSingleIvec4","uniform4i","bool","setSingleBool","bvec2","setSingleBvec2","bvec3","setSingleBvec3","bvec4","setSingleBvec4","mat2","setSingleMat2","uniformMatrix2fv","mat3","setSingleMat3","uniformMatrix3fv","mat4","setSingleMat4","uniformMatrix4fv","sampler2D","setSingleSampler2D","GLSL_ARRAY_SETTERS","setFloatArray","uniform1fv","setVec2Array","uniform2fv","setVec3Array","uniform3fv","setVec4Array","uniform4fv","setIntArray","uniform1iv","setIvec2Array","uniform2iv","setIvec3Array","uniform3iv","setIvec4Array","uniform4iv","setBoolArray","setBvec2Array","setBvec3Array","setBvec4Array","setSampler2DArray","size","type","cur","o","module","exports"],"mappings":"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","sourcesContent":["/**\n * Extracts the attributes\n * @class\n * @memberof PIXI.glCore.shader\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param uniforms {Array} @mat ?\n * @return attributes {Object}\n */\nvar generateUniformAccessObject = function(gl, uniformData)\n{\n    // this is the object we will be sending back.\n    // an object hierachy will be created for structs\n    var uniforms = {data:{}};\n\n    uniforms.gl = gl;\n\n    var uniformKeys= Object.keys(uniformData);\n\n    for (var i = 0; i < uniformKeys.length; i++)\n    {\n        var fullName = uniformKeys[i];\n\n        var nameTokens = fullName.split('.');\n        var name = nameTokens[nameTokens.length - 1];\n\n\n        var uniformGroup = getUniformGroup(nameTokens, uniforms);\n\n        var uniform =  uniformData[fullName];\n        uniformGroup.data[name] = uniform;\n\n        uniformGroup.gl = gl;\n\n        Object.defineProperty(uniformGroup, name, {\n            get: generateGetter(name),\n            set: generateSetter(name, uniform)\n        });\n    }\n\n    return uniforms;\n};\n\nvar generateGetter = function(name)\n{\n    return function() {\n        return this.data[name].value;\n    };\n};\n\nvar GLSL_SINGLE_SETTERS = {\n    float: function setSingleFloat(gl, location, value) { gl.uniform1f(location, value); },\n    vec2: function setSingleVec2(gl, location, value) { gl.uniform2f(location, value[0], value[1]); },\n    vec3: function setSingleVec3(gl, location, value) { gl.uniform3f(location, value[0], value[1], value[2]); },\n    vec4: function setSingleVec4(gl, location, value) { gl.uniform4f(location, value[0], value[1], value[2], value[3]); },\n\n    int: function setSingleInt(gl, location, value) { gl.uniform1i(location, value); },\n    ivec2: function setSingleIvec2(gl, location, value) { gl.uniform2i(location, value[0], value[1]); },\n    ivec3: function setSingleIvec3(gl, location, value) { gl.uniform3i(location, value[0], value[1], value[2]); },\n    ivec4: function setSingleIvec4(gl, location, value) { gl.uniform4i(location, value[0], value[1], value[2], value[3]); },\n\n    bool: function setSingleBool(gl, location, value) { gl.uniform1i(location, value); },\n    bvec2: function setSingleBvec2(gl, location, value) { gl.uniform2i(location, value[0], value[1]); },\n    bvec3: function setSingleBvec3(gl, location, value) { gl.uniform3i(location, value[0], value[1], value[2]); },\n    bvec4: function setSingleBvec4(gl, location, value) { gl.uniform4i(location, value[0], value[1], value[2], value[3]); },\n\n    mat2: function setSingleMat2(gl, location, value) { gl.uniformMatrix2fv(location, false, value); },\n    mat3: function setSingleMat3(gl, location, value) { gl.uniformMatrix3fv(location, false, value); },\n    mat4: function setSingleMat4(gl, location, value) { gl.uniformMatrix4fv(location, false, value); },\n\n    sampler2D: function setSingleSampler2D(gl, location, value) { gl.uniform1i(location, value); },\n};\n\nvar GLSL_ARRAY_SETTERS = {\n    float: function setFloatArray(gl, location, value) { gl.uniform1fv(location, value); },\n    vec2: function setVec2Array(gl, location, value) { gl.uniform2fv(location, value); },\n    vec3: function setVec3Array(gl, location, value) { gl.uniform3fv(location, value); },\n    vec4: function setVec4Array(gl, location, value) { gl.uniform4fv(location, value); },\n    int: function setIntArray(gl, location, value) { gl.uniform1iv(location, value); },\n    ivec2: function setIvec2Array(gl, location, value) { gl.uniform2iv(location, value); },\n    ivec3: function setIvec3Array(gl, location, value) { gl.uniform3iv(location, value); },\n    ivec4: function setIvec4Array(gl, location, value) { gl.uniform4iv(location, value); },\n    bool: function setBoolArray(gl, location, value) { gl.uniform1iv(location, value); },\n    bvec2: function setBvec2Array(gl, location, value) { gl.uniform2iv(location, value); },\n    bvec3: function setBvec3Array(gl, location, value) { gl.uniform3iv(location, value); },\n    bvec4: function setBvec4Array(gl, location, value) { gl.uniform4iv(location, value); },\n    sampler2D: function setSampler2DArray(gl, location, value) { gl.uniform1iv(location, value); },\n};\n\nfunction generateSetter(name, uniform)\n{\n    return function(value) {\n        this.data[name].value = value;\n        var location = this.data[name].location;\n        if (uniform.size === 1)\n        {\n            GLSL_SINGLE_SETTERS[uniform.type](this.gl, location, value);\n        }\n        else\n        {\n            // glslSetArray(gl, location, type, value) {\n            GLSL_ARRAY_SETTERS[uniform.type](this.gl, location, value);\n        }\n    };\n}\n\nfunction getUniformGroup(nameTokens, uniform)\n{\n    var cur = uniform;\n\n    for (var i = 0; i < nameTokens.length - 1; i++)\n    {\n        var o = cur[nameTokens[i]] || {data:{}};\n        cur[nameTokens[i]] = o;\n        cur = o;\n    }\n\n    return cur;\n}\n\n\nmodule.exports = generateUniformAccessObject;\n"]},"metadata":{},"sourceType":"script"}