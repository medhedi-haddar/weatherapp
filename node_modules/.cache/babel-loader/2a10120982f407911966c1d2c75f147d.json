{"ast":null,"code":"var mapType = require('./mapType');\n\nvar mapSize = require('./mapSize');\n/**\n * Extracts the attributes\n * @class\n * @memberof PIXI.glCore.shader\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param program {WebGLProgram} The shader program to get the attributes from\n * @return attributes {Object}\n */\n\n\nvar extractAttributes = function (gl, program) {\n  var attributes = {};\n  var totalAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n\n  for (var i = 0; i < totalAttributes; i++) {\n    var attribData = gl.getActiveAttrib(program, i);\n    var type = mapType(gl, attribData.type);\n    attributes[attribData.name] = {\n      type: type,\n      size: mapSize(type),\n      location: gl.getAttribLocation(program, attribData.name),\n      //TODO - make an attribute object\n      pointer: pointer\n    };\n  }\n\n  return attributes;\n};\n\nvar pointer = function (type, normalized, stride, start) {\n  // console.log(this.location)\n  gl.vertexAttribPointer(this.location, this.size, type || gl.FLOAT, normalized || false, stride || 0, start || 0);\n};\n\nmodule.exports = extractAttributes;","map":{"version":3,"sources":["/Users/mohamedelhedihaddar/weather-app/node_modules/pixi-gl-core/src/shader/extractAttributes.js"],"names":["mapType","require","mapSize","extractAttributes","gl","program","attributes","totalAttributes","getProgramParameter","ACTIVE_ATTRIBUTES","i","attribData","getActiveAttrib","type","name","size","location","getAttribLocation","pointer","normalized","stride","start","vertexAttribPointer","FLOAT","module","exports"],"mappings":"AACA,IAAIA,OAAO,GAAGC,OAAO,CAAC,WAAD,CAArB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,WAAD,CAArB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAIE,iBAAiB,GAAG,UAASC,EAAT,EAAaC,OAAb,EACxB;AACI,MAAIC,UAAU,GAAG,EAAjB;AAEA,MAAIC,eAAe,GAAGH,EAAE,CAACI,mBAAH,CAAuBH,OAAvB,EAAgCD,EAAE,CAACK,iBAAnC,CAAtB;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,eAApB,EAAqCG,CAAC,EAAtC,EACA;AACI,QAAIC,UAAU,GAAGP,EAAE,CAACQ,eAAH,CAAmBP,OAAnB,EAA4BK,CAA5B,CAAjB;AACA,QAAIG,IAAI,GAAGb,OAAO,CAACI,EAAD,EAAKO,UAAU,CAACE,IAAhB,CAAlB;AAEAP,IAAAA,UAAU,CAACK,UAAU,CAACG,IAAZ,CAAV,GAA8B;AAC1BD,MAAAA,IAAI,EAACA,IADqB;AAE1BE,MAAAA,IAAI,EAACb,OAAO,CAACW,IAAD,CAFc;AAG1BG,MAAAA,QAAQ,EAACZ,EAAE,CAACa,iBAAH,CAAqBZ,OAArB,EAA8BM,UAAU,CAACG,IAAzC,CAHiB;AAI1B;AACAI,MAAAA,OAAO,EAAEA;AALiB,KAA9B;AAOH;;AAED,SAAOZ,UAAP;AACH,CArBD;;AAuBA,IAAIY,OAAO,GAAG,UAASL,IAAT,EAAeM,UAAf,EAA2BC,MAA3B,EAAmCC,KAAnC,EAAyC;AACnD;AACAjB,EAAAA,EAAE,CAACkB,mBAAH,CAAuB,KAAKN,QAA5B,EAAqC,KAAKD,IAA1C,EAAgDF,IAAI,IAAIT,EAAE,CAACmB,KAA3D,EAAkEJ,UAAU,IAAI,KAAhF,EAAuFC,MAAM,IAAI,CAAjG,EAAoGC,KAAK,IAAI,CAA7G;AACH,CAHD;;AAKAG,MAAM,CAACC,OAAP,GAAiBtB,iBAAjB","sourcesContent":["\nvar mapType = require('./mapType');\nvar mapSize = require('./mapSize');\n\n/**\n * Extracts the attributes\n * @class\n * @memberof PIXI.glCore.shader\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param program {WebGLProgram} The shader program to get the attributes from\n * @return attributes {Object}\n */\nvar extractAttributes = function(gl, program)\n{\n    var attributes = {};\n\n    var totalAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n\n    for (var i = 0; i < totalAttributes; i++)\n    {\n        var attribData = gl.getActiveAttrib(program, i);\n        var type = mapType(gl, attribData.type);\n\n        attributes[attribData.name] = {\n            type:type,\n            size:mapSize(type),\n            location:gl.getAttribLocation(program, attribData.name),\n            //TODO - make an attribute object\n            pointer: pointer\n        };\n    }\n\n    return attributes;\n};\n\nvar pointer = function(type, normalized, stride, start){\n    // console.log(this.location)\n    gl.vertexAttribPointer(this.location,this.size, type || gl.FLOAT, normalized || false, stride || 0, start || 0);\n};\n\nmodule.exports = extractAttributes;\n"]},"metadata":{},"sourceType":"script"}